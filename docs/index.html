<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>QuestDB Node.js Client - v4.0.2</title><meta name="description" content="Documentation for QuestDB Node.js Client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">QuestDB Node.js Client - v4.0.2</a><div id="tsd-toolbar-links"><a href="https://github.com/questdb/nodejs-questdb-client">GitHub</a><a href="https://questdb.io">QuestDB</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>QuestDB Node.js Client - v4.0.2</h1></div><div class="tsd-panel tsd-typography"><h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="shell"><span class="hl-0"># With npm</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">i</span><span class="hl-2"> </span><span class="hl-4">-s</span><span class="hl-2"> </span><span class="hl-3">@questdb/nodejs-client</span><br/><br/><span class="hl-0"># With yarn</span><br/><span class="hl-1">yarn</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">@questdb/nodejs-client</span><br/><br/><span class="hl-0"># With pnpm</span><br/><span class="hl-1">pnpm</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">@questdb/nodejs-client</span>
</code><button type="button">Copy</button></pre>

<h2 id="compatibility-table" class="tsd-anchor-link">Compatibility table<a href="#compatibility-table" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>QuestDB client version</th>
<th>Supported Node.js versions</th>
<th>Default HTTP Agent</th>
</tr>
</thead>
<tbody>
<tr>
<td>^4.0.0</td>
<td>v20 and above</td>
<td>Undici Http Agent</td>
</tr>
<tr>
<td>^3.0.0</td>
<td>v16 and above</td>
<td>Standard Http Agent</td>
</tr>
</tbody>
</table>
<p>The current version of the client requires Node.js v20 or newer version.
Versions up to and including 3.0.0 are compatible with Node.js v16 and above.</p>
<p>The Undici HTTP agent was introduced in 4.0.0, and it is the default HTTP transport.
The standard HTTP/HTTPS modules of Node.js are still supported for backwards compatibility.
Use the <i>stdlib_http</i> option to switch to the standard HTTP/HTTPS modules.</p>
<h2 id="configuration-options" class="tsd-anchor-link">Configuration options<a href="#configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Detailed description of the client's configuration options can be found in
the <a href="classes/SenderOptions.html" class="tsd-kind-class"> SenderOptions</a> documentation.</p>
<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The examples below demonstrate how to use the client. <br>
For more details, please, check the <a href="classes/Sender.html" class="tsd-kind-class"> Sender</a>'s documentation.</p>
<h3 id="basic-api-usage" class="tsd-anchor-link">Basic API usage<a href="#basic-api-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// create a sender using HTTP protocol</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><span class="hl-3">&quot;http::addr=127.0.0.1:9000&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// add rows to the buffer of the sender</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">    .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&quot;trades&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;symbol&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;BTC-USD&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;side&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;sell&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;price&quot;</span><span class="hl-2">, </span><span class="hl-8">39269.98</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;amount&quot;</span><span class="hl-2">, </span><span class="hl-8">0.011</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(), </span><span class="hl-3">&quot;ms&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// flush the buffer of the sender, sending the data to QuestDB</span><br/><span class="hl-2">  </span><span class="hl-0">// the buffer is cleared after the data is sent, and the sender is ready to accept new data</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// close the connection after all rows ingested</span><br/><span class="hl-2">  </span><span class="hl-0">// unflushed data will be lost</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">then</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">).</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="authentication-and-secure-connection" class="tsd-anchor-link">Authentication and secure connection<a href="#authentication-and-secure-connection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="username-and-password-authentication-with-http-transport" class="tsd-anchor-link">Username and password authentication with HTTP transport<a href="#username-and-password-authentication-with-http-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// authentication details</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">USER</span><span class="hl-2"> = </span><span class="hl-3">&quot;admin&quot;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">PWD</span><span class="hl-2"> = </span><span class="hl-3">&quot;quest&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// pass the authentication details to the sender</span><br/><span class="hl-2">  </span><span class="hl-0">// for secure connection use &#39;https&#39; protocol instead of &#39;http&#39;</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-3">`http::addr=127.0.0.1:9000;username=</span><span class="hl-4">${</span><span class="hl-7">USER</span><span class="hl-4">}</span><span class="hl-3">;password=</span><span class="hl-4">${</span><span class="hl-7">PWD</span><span class="hl-4">}</span><span class="hl-3">`</span><br/><span class="hl-2">  );</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// add rows to the buffer of the sender</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">    .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&quot;trades&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;symbol&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;ETH-USD&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;side&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;sell&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;price&quot;</span><span class="hl-2">, </span><span class="hl-8">2615.54</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;amount&quot;</span><span class="hl-2">, </span><span class="hl-8">0.00044</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(), </span><span class="hl-3">&quot;ms&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// flush the buffer of the sender, sending the data to QuestDB</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// close the connection after all rows ingested</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="rest-token-authentication-with-http-transport" class="tsd-anchor-link">REST token authentication with HTTP transport<a href="#rest-token-authentication-with-http-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// authentication details</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">TOKEN</span><span class="hl-2"> = </span><span class="hl-3">&quot;Xyvd3er6GF87ysaHk&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// pass the authentication details to the sender</span><br/><span class="hl-2">  </span><span class="hl-0">// for secure connection use &#39;https&#39; protocol instead of &#39;http&#39;</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-3">`http::addr=127.0.0.1:9000;token=</span><span class="hl-4">${</span><span class="hl-7">TOKEN</span><span class="hl-4">}</span><span class="hl-3">`</span><br/><span class="hl-2">  );</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// add rows to the buffer of the sender</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">    .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&quot;trades&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;symbol&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;ETH-USD&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;side&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;sell&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;price&quot;</span><span class="hl-2">, </span><span class="hl-8">2615.54</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;amount&quot;</span><span class="hl-2">, </span><span class="hl-8">0.00044</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(), </span><span class="hl-3">&quot;ms&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// flush the buffer of the sender, sending the data to QuestDB</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// close the connection after all rows ingested</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="jwk-token-authentication-with-tcp-transport" class="tsd-anchor-link">JWK token authentication with TCP transport<a href="#jwk-token-authentication-with-tcp-transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// authentication details</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">CLIENT_ID</span><span class="hl-2"> = </span><span class="hl-3">&quot;admin&quot;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">PRIVATE_KEY</span><span class="hl-2"> = </span><span class="hl-3">&quot;ZRxmCOQBpZoj2fZ-lEtqzVDkCre_ouF3ePpaQNDwoQk&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// pass the authentication details to the sender</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-3">`tcp::addr=127.0.0.1:9009;username=</span><span class="hl-4">${</span><span class="hl-7">CLIENT_ID</span><span class="hl-4">}</span><span class="hl-3">;token=</span><span class="hl-4">${</span><span class="hl-7">PRIVATE_KEY</span><span class="hl-4">}</span><span class="hl-3">`</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">connect</span><span class="hl-2">();</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// add rows to the buffer of the sender</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">    .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&quot;trades&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;symbol&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;BTC-USD&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;side&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;sell&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;price&quot;</span><span class="hl-2">, </span><span class="hl-8">39269.98</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;amount&quot;</span><span class="hl-2">, </span><span class="hl-8">0.001</span><span class="hl-2">)</span><br/><span class="hl-2">    .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(), </span><span class="hl-3">&quot;ms&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// flush the buffer of the sender, sending the data to QuestDB</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// close the connection after all rows ingested</span><br/><span class="hl-2">  </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="array-usage-example" class="tsd-anchor-link">Array usage example<a href="#array-usage-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// create a sender</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><span class="hl-3">&#39;http::addr=localhost:9000&#39;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// order book snapshots to ingest</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">orderBooks</span><span class="hl-2"> = [</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      </span><span class="hl-6">symbol:</span><span class="hl-2"> </span><span class="hl-3">&#39;BTC-USD&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">exchange:</span><span class="hl-2"> </span><span class="hl-3">&#39;Coinbase&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">timestamp:</span><span class="hl-2"> </span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(),</span><br/><span class="hl-2">      </span><span class="hl-6">bidPrices:</span><span class="hl-2"> [</span><span class="hl-8">50100.25</span><span class="hl-2">, </span><span class="hl-8">50100.20</span><span class="hl-2">, </span><span class="hl-8">50100.15</span><span class="hl-2">, </span><span class="hl-8">50100.10</span><span class="hl-2">, </span><span class="hl-8">50100.05</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">bidSizes:</span><span class="hl-2"> [</span><span class="hl-8">0.5</span><span class="hl-2">, </span><span class="hl-8">1.2</span><span class="hl-2">, </span><span class="hl-8">2.1</span><span class="hl-2">, </span><span class="hl-8">0.8</span><span class="hl-2">, </span><span class="hl-8">3.5</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">askPrices:</span><span class="hl-2"> [</span><span class="hl-8">50100.30</span><span class="hl-2">, </span><span class="hl-8">50100.35</span><span class="hl-2">, </span><span class="hl-8">50100.40</span><span class="hl-2">, </span><span class="hl-8">50100.45</span><span class="hl-2">, </span><span class="hl-8">50100.50</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">askSizes:</span><span class="hl-2"> [</span><span class="hl-8">0.6</span><span class="hl-2">, </span><span class="hl-8">1.5</span><span class="hl-2">, </span><span class="hl-8">1.8</span><span class="hl-2">, </span><span class="hl-8">2.2</span><span class="hl-2">, </span><span class="hl-8">4.0</span><span class="hl-2">]</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">      </span><span class="hl-6">symbol:</span><span class="hl-2"> </span><span class="hl-3">&#39;ETH-USD&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">exchange:</span><span class="hl-2"> </span><span class="hl-3">&#39;Coinbase&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">timestamp:</span><span class="hl-2"> </span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(),</span><br/><span class="hl-2">      </span><span class="hl-6">bidPrices:</span><span class="hl-2"> [</span><span class="hl-8">2850.50</span><span class="hl-2">, </span><span class="hl-8">2850.45</span><span class="hl-2">, </span><span class="hl-8">2850.40</span><span class="hl-2">, </span><span class="hl-8">2850.35</span><span class="hl-2">, </span><span class="hl-8">2850.30</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">bidSizes:</span><span class="hl-2"> [</span><span class="hl-8">5.0</span><span class="hl-2">, </span><span class="hl-8">8.2</span><span class="hl-2">, </span><span class="hl-8">12.5</span><span class="hl-2">, </span><span class="hl-8">6.8</span><span class="hl-2">, </span><span class="hl-8">15.0</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">askPrices:</span><span class="hl-2"> [</span><span class="hl-8">2850.55</span><span class="hl-2">, </span><span class="hl-8">2850.60</span><span class="hl-2">, </span><span class="hl-8">2850.65</span><span class="hl-2">, </span><span class="hl-8">2850.70</span><span class="hl-2">, </span><span class="hl-8">2850.75</span><span class="hl-2">],</span><br/><span class="hl-2">      </span><span class="hl-6">askSizes:</span><span class="hl-2"> [</span><span class="hl-8">4.5</span><span class="hl-2">, </span><span class="hl-8">7.8</span><span class="hl-2">, </span><span class="hl-8">10.2</span><span class="hl-2">, </span><span class="hl-8">8.5</span><span class="hl-2">, </span><span class="hl-8">20.0</span><span class="hl-2">]</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  ];</span><br/><br/><span class="hl-2">  </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// add rows to the buffer of the sender</span><br/><span class="hl-2">    </span><span class="hl-5">for</span><span class="hl-2"> (</span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">orderBook</span><span class="hl-2"> </span><span class="hl-4">of</span><span class="hl-2"> </span><span class="hl-6">orderBooks</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">        .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&#39;order_book_l2&#39;</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&#39;symbol&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">symbol</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&#39;exchange&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">exchange</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">arrayColumn</span><span class="hl-2">(</span><span class="hl-3">&#39;bid_prices&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">bidPrices</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">arrayColumn</span><span class="hl-2">(</span><span class="hl-3">&#39;bid_sizes&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">bidSizes</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">arrayColumn</span><span class="hl-2">(</span><span class="hl-3">&#39;ask_prices&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">askPrices</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">arrayColumn</span><span class="hl-2">(</span><span class="hl-3">&#39;ask_sizes&#39;</span><span class="hl-2">, </span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">askSizes</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">orderBook</span><span class="hl-2">.</span><span class="hl-6">timestamp</span><span class="hl-2">, </span><span class="hl-3">&#39;ms&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// flush the buffer of the sender, sending the data to QuestDB</span><br/><span class="hl-2">    </span><span class="hl-0">// the buffer is cleared after the data is sent, and the sender is ready to accept new data</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><span class="hl-2">  } </span><span class="hl-5">finally</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// close the connection after all rows ingested</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">then</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">).</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="worker-threads-example" class="tsd-anchor-link">Worker threads example<a href="#worker-threads-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Sender</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;@questdb/nodejs-client&quot;</span><span class="hl-2">;</span><br/><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Worker</span><span class="hl-2">, </span><span class="hl-6">isMainThread</span><span class="hl-2">, </span><span class="hl-6">parentPort</span><span class="hl-2">, </span><span class="hl-6">workerData</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&quot;worker_threads&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// fake venue</span><br/><span class="hl-0">// generates random prices and amounts for a ticker for max 5 seconds, then the feed closes</span><br/><span class="hl-4">function*</span><span class="hl-2"> </span><span class="hl-1">venue</span><span class="hl-2">(</span><span class="hl-6">ticker</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">end</span><span class="hl-2"> = </span><span class="hl-4">false</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-1">setTimeout</span><span class="hl-2">(() </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">end</span><span class="hl-2"> = </span><span class="hl-4">true</span><span class="hl-2">;</span><br/><span class="hl-2">  }, </span><span class="hl-1">rndInt</span><span class="hl-2">(</span><span class="hl-8">5000</span><span class="hl-2">));</span><br/><span class="hl-2">  </span><span class="hl-5">while</span><span class="hl-2"> (!</span><span class="hl-6">end</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-5">yield</span><span class="hl-2"> { </span><span class="hl-6">ticker</span><span class="hl-2">, </span><span class="hl-6">price:</span><span class="hl-2"> </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">random</span><span class="hl-2">(), </span><span class="hl-6">amount:</span><span class="hl-2"> </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">random</span><span class="hl-2">() };</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// market data feed simulator</span><br/><span class="hl-0">// uses the fake venue to deliver price and amount updates to the feed handler (onTick() callback)</span><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">subscribe</span><span class="hl-2">(</span><span class="hl-6">ticker</span><span class="hl-2">, </span><span class="hl-6">onTick</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">feed</span><span class="hl-2"> = </span><span class="hl-1">venue</span><span class="hl-2">(</span><span class="hl-6">workerData</span><span class="hl-2">.</span><span class="hl-6">ticker</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">tick</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">while</span><span class="hl-2"> ((</span><span class="hl-6">tick</span><span class="hl-2"> = </span><span class="hl-6">feed</span><span class="hl-2">.</span><span class="hl-1">next</span><span class="hl-2">().</span><span class="hl-6">value</span><span class="hl-2">)) {</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">onTick</span><span class="hl-2">(</span><span class="hl-6">tick</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-1">rndInt</span><span class="hl-2">(</span><span class="hl-8">30</span><span class="hl-2">));</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">run</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">isMainThread</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">tickers</span><span class="hl-2"> = [</span><span class="hl-3">&quot;ETH-USD&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;BTC-USD&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;SOL-USD&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;DOGE-USD&quot;</span><span class="hl-2">];</span><br/><span class="hl-2">    </span><span class="hl-0">// main thread to start a worker thread for each ticker</span><br/><span class="hl-2">    </span><span class="hl-5">for</span><span class="hl-2"> (</span><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">ticker</span><span class="hl-2"> </span><span class="hl-4">of</span><span class="hl-2"> </span><span class="hl-6">tickers</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Worker</span><span class="hl-2">(</span><span class="hl-6">__filename</span><span class="hl-2">, { </span><span class="hl-6">workerData:</span><span class="hl-2"> { </span><span class="hl-6">ticker:</span><span class="hl-2"> </span><span class="hl-6">ticker</span><span class="hl-2"> } })</span><br/><span class="hl-2">        .</span><span class="hl-1">on</span><span class="hl-2">(</span><span class="hl-3">&quot;error&quot;</span><span class="hl-2">, (</span><span class="hl-6">err</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-5">throw</span><span class="hl-2"> </span><span class="hl-6">err</span><span class="hl-2">;</span><br/><span class="hl-2">        })</span><br/><span class="hl-2">        .</span><span class="hl-1">on</span><span class="hl-2">(</span><span class="hl-3">&quot;exit&quot;</span><span class="hl-2">, () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-6">ticker</span><span class="hl-4">}</span><span class="hl-3"> thread exiting...`</span><span class="hl-2">);</span><br/><span class="hl-2">        })</span><br/><span class="hl-2">        .</span><span class="hl-1">on</span><span class="hl-2">(</span><span class="hl-3">&quot;message&quot;</span><span class="hl-2">, (</span><span class="hl-6">msg</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Ingested </span><span class="hl-4">${</span><span class="hl-6">msg</span><span class="hl-9">.</span><span class="hl-6">count</span><span class="hl-4">}</span><span class="hl-3"> prices for ticker </span><span class="hl-4">${</span><span class="hl-6">msg</span><span class="hl-9">.</span><span class="hl-6">ticker</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  } </span><span class="hl-5">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// it is important that each worker has a dedicated sender object</span><br/><span class="hl-2">    </span><span class="hl-0">// threads cannot share the sender because they would write into the same buffer</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sender</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">Sender</span><span class="hl-2">.</span><span class="hl-1">fromConfig</span><span class="hl-2">(</span><span class="hl-3">&quot;http::addr=127.0.0.1:9000&quot;</span><span class="hl-2">);</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// subscribe for the market data of the ticker assigned to the worker</span><br/><span class="hl-2">    </span><span class="hl-0">// ingest each price update into the database using the sender</span><br/><span class="hl-2">    </span><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">count</span><span class="hl-2"> = </span><span class="hl-8">0</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">subscribe</span><span class="hl-2">(</span><span class="hl-6">workerData</span><span class="hl-2">.</span><span class="hl-6">ticker</span><span class="hl-2">, </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">tick</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><br/><span class="hl-2">        .</span><span class="hl-1">table</span><span class="hl-2">(</span><span class="hl-3">&quot;trades&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;symbol&quot;</span><span class="hl-2">, </span><span class="hl-6">tick</span><span class="hl-2">.</span><span class="hl-6">ticker</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">symbol</span><span class="hl-2">(</span><span class="hl-3">&quot;side&quot;</span><span class="hl-2">, </span><span class="hl-3">&quot;sell&quot;</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;price&quot;</span><span class="hl-2">, </span><span class="hl-6">tick</span><span class="hl-2">.</span><span class="hl-6">price</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">floatColumn</span><span class="hl-2">(</span><span class="hl-3">&quot;amount&quot;</span><span class="hl-2">, </span><span class="hl-6">tick</span><span class="hl-2">.</span><span class="hl-6">amount</span><span class="hl-2">)</span><br/><span class="hl-2">        .</span><span class="hl-1">at</span><span class="hl-2">(</span><span class="hl-6">Date</span><span class="hl-2">.</span><span class="hl-1">now</span><span class="hl-2">(), </span><span class="hl-3">&quot;ms&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">flush</span><span class="hl-2">();</span><br/><span class="hl-2">      </span><span class="hl-6">count</span><span class="hl-2">++;</span><br/><span class="hl-2">    });</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// let the main thread know how many prices were ingested</span><br/><span class="hl-2">    </span><span class="hl-6">parentPort</span><span class="hl-2">.</span><span class="hl-1">postMessage</span><span class="hl-2">({ </span><span class="hl-6">ticker:</span><span class="hl-2"> </span><span class="hl-6">workerData</span><span class="hl-2">.</span><span class="hl-6">ticker</span><span class="hl-2">, </span><span class="hl-6">count</span><span class="hl-2"> });</span><br/><br/><span class="hl-2">    </span><span class="hl-0">// close the connection to the database</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">sender</span><span class="hl-2">.</span><span class="hl-1">close</span><span class="hl-2">();</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-6">ms</span><span class="hl-2">: </span><span class="hl-10">number</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-10">Promise</span><span class="hl-2">((</span><span class="hl-6">resolve</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-1">setTimeout</span><span class="hl-2">(</span><span class="hl-6">resolve</span><span class="hl-2">, </span><span class="hl-6">ms</span><span class="hl-2">));</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">rndInt</span><span class="hl-2">(</span><span class="hl-6">limit</span><span class="hl-2">: </span><span class="hl-10">number</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">floor</span><span class="hl-2">(</span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">random</span><span class="hl-2">() * </span><span class="hl-6">limit</span><span class="hl-2"> + </span><span class="hl-8">1</span><span class="hl-2">);</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">run</span><span class="hl-2">().</span><span class="hl-1">then</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">).</span><span class="hl-1">catch</span><span class="hl-2">(</span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-6">error</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="community" class="tsd-anchor-link">Community<a href="#community" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you need help, have additional questions or want to provide feedback, you
may find us on our <a href="https://community.questdb.io/">Community Forum</a>.</p>
<p>You can also <a href="https://questdb.io/contributors/">sign up to our mailing list</a>
to get notified of new releases.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation"><span>Installation</span></a><a href="#compatibility-table"><span>Compatibility table</span></a><a href="#configuration-options"><span>Configuration options</span></a><a href="#examples"><span>Examples</span></a><ul><li><a href="#basic-api-usage"><span>Basic <wbr/>API usage</span></a></li><li><a href="#authentication-and-secure-connection"><span>Authentication and secure connection</span></a></li><li><ul><li><a href="#username-and-password-authentication-with-http-transport"><span>Username and password authentication with <wbr/>HTTP transport</span></a></li><li><a href="#rest-token-authentication-with-http-transport"><span>REST token authentication with <wbr/>HTTP transport</span></a></li><li><a href="#jwk-token-authentication-with-tcp-transport"><span>JWK token authentication with <wbr/>TCP transport</span></a></li></ul></li><li><a href="#array-usage-example"><span>Array usage example</span></a></li><li><a href="#worker-threads-example"><span>Worker threads example</span></a></li></ul><a href="#community"><span>Community</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/questdb/nodejs-questdb-client" class="tsd-nav-link">GitHub</a><a href="https://questdb.io" class="tsd-nav-link">QuestDB</a></nav><nav class="tsd-navigation"><a href="modules.html">QuestDB Node.js Client - v4.0.2</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
